# ═══════════════════════════════════════════════════════════════════════════
# XBot Configuration
# Copy this file to .env and fill in your values
# ═══════════════════════════════════════════════════════════════════════════

# ── Telegram Bot ─────────────────────────────────────────────────────────
TELEGRAM_BOT_TOKEN=8164837856:AAEx4i1OegVNgY8tYwgApukJYE3b9-985fY
TELEGRAM_ADMIN_CHAT_ID=7805842654

# ── Feishu Bot ───────────────────────────────────────────────────────────
FEISHU_APP_ID=cli_a912d63816b8dcda
FEISHU_APP_SECRET=KOVjiN6MjMPaqWBTFbicohadzvvNGzAx
FEISHU_ADMIN_CHAT_ID=       # Chat ID for push notifications
FEISHU_VERIFICATION_TOKEN=  # Optional, for signature verification
FEISHU_ENCRYPT_KEY=         # Optional, for message encryption

# ── LLM (OpenAI) ─────────────────────────────────────────────────────────
OPENAI_API_KEY=your_openai_api_key
OPENAI_MODEL=gpt-4o-mini
# OPENAI_BASE_URL=https://custom-endpoint.com/v1  # Optional custom endpoint

# Azure OpenAI (optional, leave blank to use OpenAI)
# AZURE_ENDPOINT=https://your-resource.openai.azure.com/
# AZURE_API_KEY=your_azure_api_key
# AZURE_API_VERSION=2024-02-01

# ── Database ──────────────────────────────────────────────────────────────
DATABASE_URL=sqlite+aiosqlite:///./xbot.db

# ── Market Data APIs ─────────────────────────────────────────────────────
# Finnhub - Stock indices, sectors, commodities
# Get free key at: https://finnhub.io/
FINNHUB_API_KEY=your_finnhub_api_key

# CoinGecko - Cryptocurrency prices (API key optional for free tier)
# Get key at: https://www.coingecko.com/en/api
COINGECKO_API_KEY=

# FRED - Federal Reserve Economic Data
# Get free key at: https://fred.stlouisfed.org/docs/api/api_key.html
FRED_API_KEY=your_fred_api_key

# ── RSS Configuration ─────────────────────────────────────────────────────
RSS_UPDATE_INTERVAL=15          # Minutes between RSS fetches
RSS_REQUEST_TIMEOUT=30          # Seconds before timeout
RSS_MAX_RETRIES=3

# ── Service Layer ─────────────────────────────────────────────────────────
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=300           # Seconds
CACHE_MAX_MEMORY_ITEMS=100

CIRCUIT_BREAKER_ENABLED=true
CB_FAILURE_THRESHOLD=3          # Failures before opening circuit
CB_RESET_TIMEOUT=30             # Seconds before trying again

# ── Analysis ─────────────────────────────────────────────────────────────
CORRELATION_ENABLED=true
CORRELATION_HISTORY_MINUTES=30

# ── Report Generation ─────────────────────────────────────────────────────
REPORT_ENABLED=true
REPORT_NEWS_HOURS=24            # Hours of news to include in reports
REPORT_MAX_NEWS_ITEMS=100
REPORT_TEMPERATURE=0.3

# ── Scheduler ─────────────────────────────────────────────────────────────
SCHEDULER_ENABLED=true
SCHEDULER_TIMEZONE=UTC

FETCH_INTERVAL_RSS=15           # Minutes
FETCH_INTERVAL_CRYPTO=5
FETCH_INTERVAL_MARKETS=5
FETCH_INTERVAL_ECONOMIC=60

# ── Push Notifications ───────────────────────────────────────────────────
PUSH_ENABLED=true
PUSH_DAILY_BRIEFING_TIME=08:00  # UTC time for daily briefing
PUSH_MARKET_SUMMARY_TIME=16:30  # UTC time for market summary
PUSH_CORRELATION_MIN_SIGNALS=3  # Min signals to trigger alert
PUSH_NEWS_BURST_THRESHOLD=50    # Articles count to trigger burst alert
PUSH_NEWS_BURST_WINDOW=30       # Minutes window for burst detection
